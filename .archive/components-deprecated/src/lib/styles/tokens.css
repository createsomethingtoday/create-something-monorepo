/**
 * Canon Design Tokens - Single Source of Truth
 *
 * "Weniger, aber besser" - Dieter Rams
 *
 * This file contains ONLY CSS custom property definitions.
 * No base styles, no utilities, no components—just tokens.
 *
 * Import this file when you need:
 * - Token definitions without base styles (vertical templates)
 * - To extend/override tokens in a custom theme
 *
 * For the complete Canon system with base styles, import canon.css instead.
 *
 * @usage
 *   @import '@create-something/components/styles/tokens.css';
 *
 * @see .claude/rules/css-canon.md for token reference
 */

:root {
  /* ==========================================================================
     Colors - Functional Minimalism
     ========================================================================== */

  /* Backgrounds - Pure to near-black
   * These form the dark canvas on which content appears.
   * Use elevation to create hierarchy, not color.
   */
  --color-bg-pure: #000000;
  --color-bg-elevated: #0a0a0a;
  --color-bg-surface: #111111;
  --color-bg-subtle: #1a1a1a;

  /* Foreground - White with semantic opacity
   * Opacity creates hierarchy. Primary for headlines,
   * muted for captions, subtle for disabled.
   */
  --color-fg-primary: #ffffff;
  --color-fg-secondary: rgba(255, 255, 255, 0.8);
  --color-fg-tertiary: rgba(255, 255, 255, 0.6);
  --color-fg-muted: rgba(255, 255, 255, 0.46); /* WCAG AA compliant: 4.56:1 on pure black */
  --color-fg-subtle: rgba(255, 255, 255, 0.2);

  /* Borders - Subtle separation */
  --color-border-default: rgba(255, 255, 255, 0.1);
  --color-border-emphasis: rgba(255, 255, 255, 0.2);
  --color-border-strong: rgba(255, 255, 255, 0.3);

  /* Semantic colors - Functional, not decorative
   * All colors are WCAG AA compliant (4.5:1+ on pure black).
   */
  --color-success: #44aa44;               /* 7.08:1 */
  --color-success-muted: rgba(68, 170, 68, 0.2);
  --color-success-border: rgba(68, 170, 68, 0.3);
  --color-error: #d44d4d;                 /* 4.97:1 */
  --color-error-muted: rgba(212, 77, 77, 0.2);
  --color-error-border: rgba(212, 77, 77, 0.3);
  --color-warning: #aa8844;               /* 6.31:1 */
  --color-warning-muted: rgba(170, 136, 68, 0.2);
  --color-warning-border: rgba(170, 136, 68, 0.3);
  --color-info: #5082b9;                  /* 5.23:1 */
  --color-info-muted: rgba(80, 130, 185, 0.2);
  --color-info-border: rgba(80, 130, 185, 0.3);

  /* Interactive states */
  --color-hover: rgba(255, 255, 255, 0.05);
  --color-active: rgba(255, 255, 255, 0.1);
  --color-focus: rgba(255, 255, 255, 0.5); /* WCAG AA compliant: 5.28:1 for focus indicators */

  /* Overlay - for modals, dialogs, backdrops */
  --color-overlay: rgba(0, 0, 0, 0.5);
  --color-overlay-heavy: rgba(0, 0, 0, 0.7);

  /* ==========================================================================
     Glass Design System - "The Automation Layer"

     Glass conveys CREATE SOMETHING's positioning: the transparent layer between
     user and outcome. The tool recedes; the outcome remains.

     Metaphor: Glass elements suggest transparency, openness, and non-disruptive
     access to underlying content. The interface becomes a window, not a wall.

     When to use:
     - Navigation headers (glass-lg)
     - Modal overlays (glass-elevated)
     - Workflow/automation cards (glass-card)
     - Floating UI elements (glass-elevated)

     When NOT to use:
     - Primary content areas (use solid backgrounds)
     - Dense data tables (readability suffers)
     - Every element (glass loses meaning through overuse)

     Accessibility: All glass styles include fallbacks for:
     - prefers-reduced-transparency: Solid backgrounds
     - prefers-contrast: more: Stronger borders, reduced blur
     - Mobile: Reduced blur for performance
     ========================================================================== */

  /* Glass blur levels - backdrop-filter values
   * Heavy blur creates textured black glass - the element stays dark
   * while revealing depth through blur texture, not transparency.
   *
   * Philosophy: More blur = more texture, not more transparency.
   * The glass should feel like obsidian, not frosted window.
   *
   * | Step | Value | Use Case                           |
   * |------|-------|-----------------------------------|
   * | sm   | 20px  | Subtle texture, card backgrounds   |
   * | md   | 32px  | Standard glass elements            |
   * | lg   | 48px  | Navigation, elevated UI            |
   * | xl   | 64px  | Modals, prominent overlays         |
   * | 2xl  | 80px  | Maximum texture, hero glass        |
   */
  --glass-blur-sm: 20px;
  --glass-blur-md: 32px;
  --glass-blur-lg: 48px;
  --glass-blur-xl: 64px;
  --glass-blur-2xl: 80px;

  /* Glass saturation levels - adds color richness to blurred content
   * Higher saturation at higher blur levels compensates for color loss.
   *
   * | Step | Value | Use Case                           |
   * |------|-------|-----------------------------------|
   * | sm   | 110%  | Subtle color boost                 |
   * | md   | 120%  | Standard saturation                |
   * | lg   | 130%  | Elevated UI, navigation            |
   * | xl   | 140%  | Maximum richness for modals        |
   */
  --glass-saturate-sm: saturate(110%);
  --glass-saturate-md: saturate(120%);
  --glass-saturate-lg: saturate(130%);
  --glass-saturate-xl: saturate(140%);

  /* Glass background - dark/black tinted for true obsidian effect
   * Black backgrounds ensure glass stays dark regardless of content behind.
   * This is the key to "frosted obsidian" vs "frosted window".
   *
   * Philosophy: True obsidian glass, not tinted window.
   *
   * | Step   | Opacity | Value                    | Use Case              |
   * |--------|---------|-------------------------|-----------------------|
   * | subtle | 0.65    | rgba(0, 0, 0, 0.65)     | Subtle dark glass      |
   * | light  | 0.72    | rgba(0, 0, 0, 0.72)     | Standard glass cards   |
   * | medium | 0.78    | rgba(0, 0, 0, 0.78)     | Elevated glass         |
   * | strong | 0.85    | rgba(0, 0, 0, 0.85)     | Prominent glass panels |
   */
  --glass-bg-subtle: rgba(0, 0, 0, 0.65);
  --glass-bg-light: rgba(0, 0, 0, 0.72);
  --glass-bg-medium: rgba(0, 0, 0, 0.78);
  --glass-bg-strong: rgba(0, 0, 0, 0.85);

  /* Glass border styles
   * Subtle white borders define edges like light catching obsidian.
   *
   * | Step   | Opacity | Value                      | Use Case              |
   * |--------|---------|----------------------------|-----------------------|
   * | subtle | 0.06    | rgba(255, 255, 255, 0.06) | Minimal edge          |
   * | light  | 0.10    | rgba(255, 255, 255, 0.10) | Standard glass border |
   * | medium | 0.15    | rgba(255, 255, 255, 0.15) | Emphasized edge       |
   * | strong | 0.22    | rgba(255, 255, 255, 0.22) | High contrast edge    |
   */
  --glass-border-subtle: rgba(255, 255, 255, 0.06);
  --glass-border-light: rgba(255, 255, 255, 0.10);
  --glass-border-medium: rgba(255, 255, 255, 0.15);
  --glass-border-strong: rgba(255, 255, 255, 0.22);

  /* Glass shadows - deeper shadows for dramatic floating effect
   * Higher opacity creates more prominent depth separation.
   *
   * | Step | Y-offset | Blur  | Opacity | Use Case            |
   * |------|----------|-------|---------|---------------------|
   * | sm   | 4px      | 24px  | 0.4     | Subtle lift         |
   * | md   | 8px      | 40px  | 0.5     | Standard elevation  |
   * | lg   | 16px     | 64px  | 0.6     | Prominent floating  |
   */
  --glass-shadow-sm: 0 4px 24px rgba(0, 0, 0, 0.4);
  --glass-shadow-md: 0 8px 40px rgba(0, 0, 0, 0.5);
  --glass-shadow-lg: 0 16px 64px rgba(0, 0, 0, 0.6);

  /* ==========================================================================
     Liquid Glass Design System - Apple-style Refraction Effect
     
     Extends the Glass System with refraction, highlights, and depth layers.
     Unlike frosted glass (blur only), liquid glass warps/refracts background.
     Elements appear to "sit on" glass that bends light behind it.
     
     Philosophy: The cockpit of the automation vehicle.
     Like the 930's driver-centric layout: minimal, focused, everything angled toward your destination.
     This is Zuhandenheit made visual: the controls recede, the journey remains.
     ========================================================================== */

  /* Refraction intensity - SVG displacement filter scale values
   * Higher values create more dramatic "bending" of background content.
   *
   * | Step   | Scale | Use Case                           |
   * |--------|-------|-----------------------------------|
   * | subtle | 4     | Minimal distortion, dropdowns      |
   * | medium | 8     | Balanced effect, cards             |
   * | strong | 14    | Heavy refraction, hero sections    |
   */
  --liquid-glass-refraction-subtle: 4;
  --liquid-glass-refraction-medium: 8;
  --liquid-glass-refraction-strong: 14;

  /* Highlight gradients - simulating overhead light reflection
   * Creates the appearance of light catching the glass surface.
   *
   * | Variant | Intensity | Use Case                      |
   * |---------|-----------|------------------------------|
   * | primary | 12%→4%    | Standard liquid glass         |
   * | subtle  | 8%→2%     | Secondary elements            |
   * | strong  | 18%→6%    | Hero sections, featured items |
   */
  --liquid-glass-highlight-primary: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.12) 0%,
    rgba(255, 255, 255, 0.04) 30%,
    transparent 60%
  );
  --liquid-glass-highlight-subtle: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.08) 0%,
    rgba(255, 255, 255, 0.02) 40%,
    transparent 70%
  );
  --liquid-glass-highlight-strong: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.18) 0%,
    rgba(255, 255, 255, 0.06) 25%,
    transparent 55%
  );

  /* Top edge glow - simulates overhead light source
   * Creates a subtle bright line at the top edge of glass elements.
   */
  --liquid-glass-edge-glow: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.3),
    transparent
  );

  /* Inner shadow - creates depth and "thickness" to the glass
   * Makes elements feel like they have physical presence.
   */
  --liquid-glass-inner-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.3);

  /* Semantic tint colors - functional color overlays
   * Each tint serves a specific semantic purpose in the UI.
   * Uses CSS color-mix() for consistent blending with glass background.
   *
   * | Tint    | Semantic Purpose              | Hex      |
   * |---------|------------------------------|----------|
   * | purple  | Enterprise, premium          | #a78bfa  |
   * | blue    | Partner, collaboration       | #60a5fa  |
   * | emerald | Success, growth              | #34d399  |
   * | amber   | Warning, attention           | #fbbf24  |
   * | rose    | Error, critical              | #fb7185  |
   * | cyan    | SDK, developer tools         | #22d3ee  |
   */
  --liquid-glass-tint-purple: #a78bfa;
  --liquid-glass-tint-blue: #60a5fa;
  --liquid-glass-tint-emerald: #34d399;
  --liquid-glass-tint-amber: #fbbf24;
  --liquid-glass-tint-rose: #fb7185;
  --liquid-glass-tint-cyan: #22d3ee;

  /* Tint mix percentages - how much color to blend with glass background */
  --liquid-glass-tint-mix-standard: 12%;
  --liquid-glass-tint-mix-subtle: 8%;

  /* Data Visualization Palette */
  --color-data-1: #60a5fa; /* Blue */
  --color-data-1-muted: rgba(96, 165, 250, 0.2);
  --color-data-2: #22c55e; /* Green */
  --color-data-2-muted: rgba(34, 197, 94, 0.2);
  --color-data-3: #c084fc; /* Purple */
  --color-data-3-muted: rgba(192, 132, 252, 0.2);
  --color-data-3-border: rgba(192, 132, 252, 0.3);
  --color-data-4: #fbbf24; /* Amber/Gold */
  --color-data-4-muted: rgba(251, 191, 36, 0.2);
  --color-data-5: #f472b6; /* Pink */
  --color-data-5-muted: rgba(244, 114, 182, 0.2);
  --color-data-6: #facc15; /* Yellow */
  --color-data-6-muted: rgba(250, 204, 21, 0.2);

  /* Rank colors - for leaderboards, medals, badges */
  --color-rank-gold: #ca8a04;              /* Gold/1st place */
  --color-rank-gold-muted: rgba(202, 138, 4, 0.2);
  --color-rank-bronze: #c2410c;            /* Bronze/3rd place */
  --color-rank-bronze-muted: rgba(194, 65, 12, 0.2);

  /* ==========================================================================
     Typography - Golden Ratio Scale (φ = 1.618)

     Mathematical derivation in: src/lib/visual/typography.ts

     Scale uses φ for display/headings, minor third (1.2) for body text.
     This "pragmatic" approach provides dramatic contrast for headlines
     while maintaining readability for body text.

     φ = (1 + √5) / 2 = 1.6180339887...
     ========================================================================== */

  /* Font families */
  --font-sans: 'Stack Sans Notch', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --font-mono: "JetBrains Mono", "Fira Code", "SF Mono", Consolas, monospace;
  --font-serif: Georgia, "Times New Roman", serif;

  /* Font weights */
  --font-light: 300;
  --font-regular: 400;
  --font-medium: 500;
  --font-semibold: 600;
  --font-bold: 700;

  /* Line heights */
  --leading-tight: 1.25;
  --leading-snug: 1.375;
  --leading-normal: 1.5;
  --leading-relaxed: 1.618; /* φ - Golden ratio */
  --leading-loose: 1.75;

  /* Letter spacing */
  --tracking-tighter: -0.025em;
  --tracking-tight: -0.015em;
  --tracking-normal: 0;
  --tracking-wide: 0.025em;
  --tracking-wider: 0.05em;
  --tracking-widest: 0.1em;

  /* Type scale - DERIVED from mathematical foundations
   *
   * Display/Headings: Golden ratio (φ)
   * | Step       | Power | Value   | Derivation     |
   * |------------|-------|---------|----------------|
   * | display-xl | φ⁴    | 6.854   | 1 × φ⁴         |
   * | display    | φ³    | 4.236   | 1 × φ³         |
   * | h1         | φ²    | 2.618   | 1 × φ²         |
   * | h2         | φ¹    | 1.618   | 1 × φ          |
   *
   * Body text: Minor third (1.2) for readability
   * | Step       | Power | Value   | Derivation     |
   * |------------|-------|---------|----------------|
   * | h3         | 1.2¹  | 1.200   | 1 × 1.2        |
   * | h4         | 1.2⁰·⁵| 1.095   | 1 × √1.2       |
   * | h5/body    | —     | 1.000   | base           |
   * | h6/body-sm | 1.2⁻⁰·⁵| 0.913  | 1 / √1.2       |
   * | caption    | 1.2⁻¹ | 0.833   | 1 / 1.2        |
   * | overline   | φ⁻¹   | 0.618   | 1 / φ          |
   */
  --text-display-xl: clamp(4.236rem, 6vw + 2rem, 6.854rem);  /* φ⁴ max */
  --text-display: clamp(2.618rem, 4vw + 1.5rem, 4.236rem);   /* φ³ max */
  --text-h1: clamp(1.618rem, 3vw + 1rem, 2.618rem);          /* φ² max */
  --text-h2: clamp(1.2rem, 2vw + 0.5rem, 1.618rem);          /* φ¹ max */
  --text-h3: clamp(1.02rem, 1vw + 0.5rem, 1.2rem);           /* 1.2¹ max */
  --text-h4: clamp(0.931rem, 0.5vw + 0.5rem, 1.095rem);      /* √1.2 max */
  --text-h5: 1rem;                                            /* base */
  --text-h6: 0.913rem;                                        /* 1/√1.2 */
  --text-body-lg: 1.095rem;                                   /* √1.2 */
  --text-body: 1rem;                                          /* base */
  --text-body-sm: 0.913rem;                                   /* 1/√1.2 */
  --text-caption: 0.833rem;                                   /* 1/1.2 */
  --text-overline: 0.618rem;                                  /* 1/φ */

  /* Watermark typography - oversized decorative text
   * Used for background watermarks in editorial layouts.
   * Intentionally outside the standard scale for dramatic effect.
   *
   * | Step | Min    | Max    | Use Case                    |
   * |------|--------|--------|-----------------------------|
   * | sm   | 4rem   | 15rem  | Small watermarks            |
   * | md   | 6rem   | 20rem  | Medium watermarks           |
   * | base | 8rem   | 25rem  | Standard watermarks         |
   * | lg   | 10rem  | 30rem  | Large watermarks            |
   */
  --text-watermark: clamp(8rem, 25vw, 25rem);
  --text-watermark-lg: clamp(10rem, 30vw, 30rem);
  --text-watermark-md: clamp(6rem, 20vw, 20rem);
  --text-watermark-sm: clamp(4rem, 15vw, 15rem);
  --text-watermark-mobile: clamp(4rem, 20vw, 15rem);  /* Responsive mobile variant */

  /* ==========================================================================
     Spacing - Golden Ratio (φ = 1.618)

     DERIVED from φⁿ where base = 1rem
     | Step | Power | Value   | Derivation |
     |------|-------|---------|------------|
     | xs   | φ⁻¹   | 0.618   | 1 / φ      |
     | sm   | φ⁰    | 1.000   | base       |
     | md   | φ¹    | 1.618   | φ          |
     | lg   | φ²    | 2.618   | φ²         |
     | xl   | φ³    | 4.236   | φ³         |
     | 2xl  | φ⁴    | 6.854   | φ⁴         |
     | 3xl  | φ⁵    | 11.090  | φ⁵         |
     ========================================================================== */

  --space-xs: 0.618rem;   /* φ⁻¹ */
  --space-sm: 1rem;       /* φ⁰ (base) */
  --space-md: 1.618rem;   /* φ¹ */
  --space-lg: 2.618rem;   /* φ² */
  --space-xl: 4.236rem;   /* φ³ */
  --space-2xl: 6.854rem;  /* φ⁴ */
  --space-3xl: 11.09rem;  /* φ⁵ */

  /* ==========================================================================
     Border Radius - 4px Base Unit

     DERIVED from 4px base × integer multipliers.
     4px aligns with common design system grid (4px/8px).

     Mathematical derivation in: src/lib/visual/layout.ts

     | Step | Multiplier | Calculation | Value  | Use Case            |
     |------|------------|-------------|--------|---------------------|
     | sm   | 1.5        | 4 × 1.5     | 6px    | Subtle rounding     |
     | md   | 2          | 4 × 2       | 8px    | Standard components |
     | lg   | 3          | 4 × 3       | 12px   | Cards, modals       |
     | xl   | 4          | 4 × 4       | 16px   | Large containers    |
     | 2xl  | 6          | 4 × 6       | 24px   | Hero elements       |
     | full | ∞          | —           | 9999px | Pills, avatars      |
     ========================================================================== */

  --radius-sm: 6px;    /* 4 × 1.5 */
  --radius-md: 8px;    /* 4 × 2 */
  --radius-lg: 12px;   /* 4 × 3 */
  --radius-xl: 16px;   /* 4 × 4 */
  --radius-2xl: 24px;  /* 4 × 6 */
  --radius-full: 9999px;

  /* ==========================================================================
     Shadows & Elevation

     Mathematical derivation in: src/lib/visual/shadows.ts

     Physical model (for reference - current values are Tailwind defaults):
     - Elevation scale: powers of 2 (1, 4, 8, 16, 32px)
     - Blur = elevation × 1.5 (light source diffusion)
     - Spread = blur × -0.2 (negative for containment)
     - Opacity = 0.25 - (step × 0.03) (inverse square approximation)

     Current values use Tailwind defaults for ecosystem compatibility.
     See shadows.ts auditShadows() for comparison with derived values.

     | Step | Y-offset | Blur  | Spread | Note                     |
     |------|----------|-------|--------|--------------------------|
     | sm   | 1px      | 2px   | 0      | Subtle lift              |
     | md   | 4px      | 6px   | -1px   | Card elevation           |
     | lg   | 10px     | 15px  | -3px   | Modal elevation          |
     | xl   | 20px     | 25px  | -5px   | Drawer/dialog            |
     | 2xl  | 25px     | 50px  | -12px  | Full overlay             |
     ========================================================================== */

  --shadow-none: none;
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.5);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.5), 0 2px 4px -2px rgba(0, 0, 0, 0.5);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.5), 0 4px 6px -4px rgba(0, 0, 0, 0.5);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.5), 0 8px 10px -6px rgba(0, 0, 0, 0.5);
  --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.75);

  /* Glow shadows - DERIVED: blur doubles per step (10, 20, 40)
   *
   * Glows represent light emission, not obstruction.
   * | Step | Blur | Opacity | Derivation     |
   * |------|------|---------|----------------|
   * | sm   | 10px | 0.05    | 10 × 2⁰        |
   * | md   | 20px | 0.10    | 10 × 2¹        |
   * | lg   | 40px | 0.15    | 10 × 2²        |
   */
  --shadow-glow-sm: 0 0 10px rgba(255, 255, 255, 0.05);
  --shadow-glow-md: 0 0 20px rgba(255, 255, 255, 0.1);
  --shadow-glow-lg: 0 0 40px rgba(255, 255, 255, 0.15);

  /* Inner shadows - DERIVED: base 2px, lg = 2× base
   * Used for inset effects, pressed states.
   */
  --shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.5);
  --shadow-inner-lg: inset 0 4px 8px 0 rgba(0, 0, 0, 0.5);

  /* ==========================================================================
     Animation & Motion

     Mathematical derivation in: src/lib/visual/easing.ts

     Easing curves use Material Design's standard curves.
     Duration values follow perceptual thresholds from animation research.
     ========================================================================== */

  /* Easing - cubic-bezier curves for natural motion
   *
   * Standard: ease-in-out for most transitions
   * Decelerate: ease-out for entering elements
   * Accelerate: ease-in for exiting elements
   *
   * See easing.ts for mathematical derivation of control points.
   */
  --ease-standard: cubic-bezier(0.4, 0.0, 0.2, 1);
  --ease-decelerate: cubic-bezier(0.0, 0.0, 0.2, 1);
  --ease-accelerate: cubic-bezier(0.4, 0.0, 1, 1);

  /* Duration - perceptual thresholds
   *
   * Based on human perception research:
   * - <100ms: perceived as instant (system response)
   * - 100-300ms: perceived as fast (direct manipulation)
   * - 300-500ms: perceived as normal (state changes)
   * - >500ms: perceived as slow (deliberate emphasis)
   *
   * | Step     | Value  | Use Case                    | Perception    |
   * |----------|--------|-----------------------------| --------------|
   * | instant  | 100ms  | System feedback, tooltips   | Instantaneous |
   * | micro    | 200ms  | Hover states, toggles       | Fast          |
   * | standard | 300ms  | Page transitions, modals    | Normal        |
   * | complex  | 500ms  | Multi-step, orchestrated    | Deliberate    |
   * | slow     | 700ms  | Dramatic emphasis           | Slow          |
   *
   * The 100ms base with ~1.5-2× increments balances perception with purpose.
   */
  --duration-instant: 100ms;
  --duration-micro: 200ms;
  --duration-fast: 200ms;     /* Alias for --duration-micro (common naming expectation) */
  --duration-standard: 300ms;
  --duration-complex: 500ms;
  --duration-slow: 700ms;

  /* Cascade timing - DERIVED from perceptual grouping
   *
   * Staggered animations need spacing that creates rhythm without
   * feeling disconnected. Based on Gestalt proximity principles:
   * - Elements <50ms apart feel like a group
   * - Elements >150ms apart feel independent
   *
   * | Step  | Value | Use Case                       |
   * |-------|-------|--------------------------------|
   * | step  | 50ms  | Between sibling items          |
   * | group | 100ms | Between logical groups         |
   *
   * Usage: transition-delay: calc(var(--cascade-step) * var(--index));
   */
  --cascade-step: 50ms;
  --cascade-group: 100ms;

  /* Loading animation duration - longer for continuous visual rhythm
   * Used for skeleton loaders, shimmer effects, pulse animations.
   * 2s is a UX best practice: visible but not distracting.
   */
  --duration-loading: 2000ms;

  /* Scale transforms - DERIVED for hover emphasis
   *
   * Award-winning B&W sites use subtle scale for interaction feedback.
   * Values chosen for perceivability without distraction.
   *
   * | Step   | Value | Use Case                       |
   * |--------|-------|--------------------------------|
   * | subtle | 0.98  | Active/pressed state (shrink)  |
   * | micro  | 1.02  | Card hover, button lift        |
   * | small  | 1.05  | Emphasized hover states        |
   * | medium | 1.1   | Modal/overlay entrance         |
   *
   * Usage: transform: scale(var(--scale-micro));
   */
  --scale-subtle: 0.98;
  --scale-micro: 1.02;
  --scale-small: 1.05;
  --scale-medium: 1.1;

  /* Opacity states */
  --opacity-muted: 0.6;
  --opacity-hover: 0.8;
  --opacity-full: 1;

  /* ==========================================================================
     Z-Index Layers

     Semantic stacking contexts with 10× gaps for flexibility.

     The 10× pattern provides:
     - Clear semantic hierarchy (each layer is an order of magnitude)
     - Room for intermediate values (e.g., z-15 between dropdown and sticky)
     - Easy mental model (dropdown=10, modal=100, tooltip=300)

     | Layer    | Value | Use Case                        | Context        |
     |----------|-------|--------------------------------|----------------|
     | base     | 0     | Default stacking               | Document flow  |
     | dropdown | 10    | Menus, selects, autocomplete   | Inline reveal  |
     | sticky   | 20    | Sticky headers, sidebars       | Scroll-locked  |
     | fixed    | 50    | Fixed navbars, FABs            | Viewport-fixed |
     | modal    | 100   | Dialogs, drawers, sheets       | Focus trap     |
     | popover  | 200   | Popovers over modals           | Nested overlay |
     | tooltip  | 300   | Tooltips (always on top)       | Ephemeral info |

     Why these specific values?
     - 10, 20: Close together (both are "above content" but different purposes)
     - 50: Jump to "fixed UI" territory
     - 100: Order of magnitude jump for "blocking overlays"
     - 200, 300: Nested overlay hierarchy (popover in modal, tooltip over all)
     ========================================================================== */

  --z-base: 0;
  --z-dropdown: 10;
  --z-sticky: 20;
  --z-fixed: 50;
  --z-modal: 100;
  --z-popover: 200;
  --z-tooltip: 300;

  /* ==========================================================================
     Layout Constants
     ========================================================================== */

  /* Header height - consistent across all properties
   * Navigation component: py-4 (32px) + content (~40px) = 72px
   * Used for: fixed sidebars, skip-to-content, scroll offsets
   */
  --header-height: 72px;

  /* ==========================================================================
     Breakpoints & Containers
     ========================================================================== */

  --breakpoint-sm: 640px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 1024px;
  --breakpoint-xl: 1280px;
  --breakpoint-2xl: 1536px;

  --container-sm: 640px;
  --container-md: 768px;
  --container-lg: 1024px;
  --container-xl: 1280px;
  --container-2xl: 1400px;
  --container-prose: 65ch;

  /* Content widths - DERIVED from golden ratio (φ = 1.618)

     Two interconnected φ chains provide harmonious proportions.
     Mathematical derivation in: src/lib/visual/layout.ts

     READING CHAIN (base 26rem - optimized for text):
     | Step  | Power | Calculation | Value   | Use Case            |
     |-------|-------|-------------|---------|---------------------|
     | tight | φ⁻¹   | 26 / φ      | 16.07   | Narrow sidebars     |
     | prose | φ¹    | 26 × φ      | 42.07   | Optimal reading     |
     | wide  | φ²    | 26 × φ²     | 68.07   | Full content        |

     CONTENT CHAIN (base 20rem - mobile-first):
     | Step    | Power | Calculation | Value   | Use Case            |
     |---------|-------|-------------|---------|---------------------|
     | narrow  | φ¹    | 20 × φ      | 32.36   | Narrow content      |
     | content | φ²    | 20 × φ²     | 52.36   | Standard content    |

     Why these bases?
     - 26rem ≈ 52 chars, comfortable for forms/cards
     - 26 × φ = 42rem ≈ 66-75 chars (optimal reading)
     - 20rem = 320px, classic mobile viewport
     ========================================================================== */
  --width-tight: 16.07rem;   /* 26 / φ - narrow sidebars */
  --width-narrow: 32.36rem;  /* 20 × φ - narrow content */
  --width-prose: 42rem;      /* 26 × φ - optimal reading (66-75 chars) */
  --width-content: 52.36rem; /* 20 × φ² - content sections */
  --width-wide: 68rem;       /* 26 × φ² - full-width content */

  /* ==========================================================================
     View Transitions
     ========================================================================== */

  --view-transition-duration: var(--duration-standard);
}

/* ==========================================================================
   Light Theme Tokens
   Apply via: <html data-theme="light"> or .theme-light
   ========================================================================== */

[data-theme="light"],
.theme-light {
  --color-bg-pure: #ffffff;
  --color-bg-elevated: #fafafa;
  --color-bg-surface: #f5f5f5;
  --color-bg-subtle: #eeeeee;

  --color-fg-primary: #1a1a1a;
  --color-fg-secondary: rgba(0, 0, 0, 0.8);
  --color-fg-tertiary: rgba(0, 0, 0, 0.6);
  --color-fg-muted: rgba(0, 0, 0, 0.46);
  --color-fg-subtle: rgba(0, 0, 0, 0.2);

  --color-border-default: rgba(0, 0, 0, 0.1);
  --color-border-emphasis: rgba(0, 0, 0, 0.15);
  --color-border-strong: rgba(0, 0, 0, 0.25);

  --color-hover: rgba(0, 0, 0, 0.03);
  --color-active: rgba(0, 0, 0, 0.06);
  --color-focus: rgba(0, 0, 0, 0.2);

  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.07);
  --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
}

/* ==========================================================================
   High Contrast Mode
   ========================================================================== */

@media (prefers-contrast: more) {
  :root {
    --color-bg-elevated: #050505;
    --color-bg-surface: #0a0a0a;
    --color-bg-subtle: #121212;

    --color-fg-secondary: rgba(255, 255, 255, 0.95);
    --color-fg-tertiary: rgba(255, 255, 255, 0.85);
    --color-fg-muted: rgba(255, 255, 255, 0.75);
    --color-fg-subtle: rgba(255, 255, 255, 0.5);

    --color-border-default: rgba(255, 255, 255, 0.3);
    --color-border-emphasis: rgba(255, 255, 255, 0.5);
    --color-border-strong: rgba(255, 255, 255, 0.7);

    --color-hover: rgba(255, 255, 255, 0.15);
    --color-active: rgba(255, 255, 255, 0.25);
    --color-focus: rgba(255, 255, 255, 0.9);

    /* Semantic colors - brighter for high contrast */
    --color-success: #5ddb5d;
    --color-error: #ff6b6b;
    --color-warning: #ffc857;
    --color-info: #7eb8ff;
  }
}

/* ==========================================================================
   Mobile Typography Optimization
   ==========================================================================

   Mobile-first typography adjustments for better readability on small screens.
   
   Philosophy: On mobile, display text needs to scale down more aggressively
   while body text needs to maintain minimum readable sizes.

   Changes at 768px and below:
   - Display text: Reduced minimums to prevent text overflow
   - Caption/overline: Increased minimums for readability (WCAG recommends 14px+)
   - Body text: Remains consistent for reading comfort
   ========================================================================== */

@media (max-width: 768px) {
  :root {
    /* Display text - more aggressive scaling for mobile
     * Reduces the clamp minimum to prevent overflow on narrow screens
     * Original display-xl min: 4.236rem (67.8px) - too large for 375px screens
     * Original display min: 2.618rem (41.9px) - acceptable but can be smaller
     *
     * Mobile display: 1.75rem (28px) min ensures comfortable reading
     * On 375px screen: 5vw = 18.75px, +0.5rem = 26.75px → clamps to 28px min
     */
    --text-display-xl: clamp(2.25rem, 7vw + 0.75rem, 3.5rem);   /* 36px - 56px */
    --text-display: clamp(1.75rem, 5vw + 0.5rem, 2.25rem);      /* 28px - 36px */
    
    /* Heading text - slightly reduced for mobile hierarchy
     * H1 needs room to breathe on mobile without overwhelming
     */
    --text-h1: clamp(1.375rem, 3.5vw + 0.5rem, 1.75rem);        /* 22px - 28px */
    --text-h2: clamp(1.125rem, 2.5vw + 0.5rem, 1.375rem);       /* 18px - 22px */
    
    /* Small text - increased minimums for mobile readability
     * WCAG recommends 14px+ for body text
     * Original caption: 0.833rem (13.3px) - too small on mobile
     * Original overline: 0.618rem (9.9px) - much too small
     */
    --text-caption: 0.875rem;                                   /* 14px - readable */
    --text-overline: 0.75rem;                                   /* 12px - minimum readable */
  }
}
