var CourtReserve=(function(y){"use strict";var Fi=Object.defineProperty;var Jn=y=>{throw TypeError(y)};var Li=(y,A,I)=>A in y?Fi(y,A,{enumerable:!0,configurable:!0,writable:!0,value:I}):y[A]=I;var ge=(y,A,I)=>Li(y,typeof A!="symbol"?A+"":A,I),$t=(y,A,I)=>A.has(y)||Jn("Cannot "+I);var v=(y,A,I)=>($t(y,A,"read from private field"),I?I.call(y):A.get(y)),U=(y,A,I)=>A.has(y)?Jn("Cannot add the same private member more than once"):A instanceof WeakSet?A.add(y):A.set(y,I),be=(y,A,I,ut)=>($t(y,A,"write to private field"),ut?ut.call(y,I):A.set(y,I),I),X=(y,A,I)=>($t(y,A,"access private method"),I);var Zn,He,We,Fe,Le,ft,Ke,ze,N,en,Be,tn,Qn,$n,ie,ue,G,qe,st,lt,At;typeof window<"u"&&((Zn=window.__svelte??(window.__svelte={})).v??(Zn.v=new Set)).add("5");const I=1,ut=2,er=16,tr=1,nr=4,rr=8,ir=16,fr=2,D=Symbol(),sr="http://www.w3.org/1999/xhtml",It=!1;var nn=Array.isArray,lr=Array.prototype.indexOf,rn=Array.from,ot=Object.getOwnPropertyDescriptor,ar=Object.getOwnPropertyDescriptors,ur=Object.prototype,or=Array.prototype,fn=Object.getPrototypeOf;function cr(e){for(var t=0;t<e.length;t++)e[t]()}function sn(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}const O=2,ln=4,Nt=8,_e=16,de=32,Ve=64,Mt=128,te=512,F=1024,Y=2048,he=4096,H=8192,pe=16384,Ot=32768,Je=65536,an=1<<17,un=1<<18,ct=1<<19,vr=1<<20,xe=32768,Dt=1<<21,Ft=1<<22,me=1<<23,vt=Symbol("$state"),_r=Symbol("legacy props"),je=new class extends Error{constructor(){super(...arguments);ge(this,"name","StaleReactionError");ge(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function dr(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function hr(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function pr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function wr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function gr(e){throw new Error("https://svelte.dev/e/effect_orphan")}function br(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function mr(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function yr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Er(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Sr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function on(e){return e===this.v}function kr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function cn(e){return!kr(e,this.v)}let Tr=!1,ne=null;function _t(e){ne=e}function Ar(e,t=!1,n){ne={p:ne,i:!1,c:null,e:null,s:e,x:null,l:null}}function xr(e){var t=ne,n=t.e;if(n!==null){t.e=null;for(var r of n)xn(r)}return t.i=!0,ne=t.p,{}}function vn(){return!0}let Pe=[];function _n(){var e=Pe;Pe=[],cr(e)}function Pr(e){if(Pe.length===0&&!Qe){var t=Pe;queueMicrotask(()=>{t===Pe&&_n()})}Pe.push(e)}function Rr(){for(;Pe.length>0;)_n()}function Cr(e){var t=E;if(t===null)return g.f|=me,e;if((t.f&Ot)===0){if((t.f&Mt)===0)throw e;t.b.error(e)}else dt(e,t)}function dt(e,t){for(;t!==null;){if((t.f&Mt)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const ht=new Set;let m=null,pt=null,x=null,J=[],wt=null,Lt=!1,Qe=!1;const Tt=class Tt{constructor(){U(this,N);ge(this,"committed",!1);ge(this,"current",new Map);ge(this,"previous",new Map);U(this,He,new Set);U(this,We,new Set);U(this,Fe,0);U(this,Le,0);U(this,ft,null);U(this,Ke,[]);U(this,ze,[]);ge(this,"skipped_effects",new Set);ge(this,"is_fork",!1)}is_deferred(){return this.is_fork||v(this,Le)>0}process(t){var r;J=[],pt=null,this.apply();var n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const i of t)X(this,N,en).call(this,i,n);this.is_fork||X(this,N,Qn).call(this),this.is_deferred()?(X(this,N,Be).call(this,n.effects),X(this,N,Be).call(this,n.render_effects),X(this,N,Be).call(this,n.block_effects)):(pt=this,m=null,hn(n.render_effects),hn(n.effects),pt=null,(r=v(this,ft))==null||r.resolve()),x=null}capture(t,n){this.previous.has(t)||this.previous.set(t,n),(t.f&me)===0&&(this.current.set(t,t.v),x==null||x.set(t,t.v))}activate(){m=this,this.apply()}deactivate(){m===this&&(m=null,x=null)}flush(){if(this.activate(),J.length>0){if(dn(),m!==null&&m!==this)return}else v(this,Fe)===0&&this.process([]);this.deactivate()}discard(){for(const t of v(this,We))t(this);v(this,We).clear()}increment(t){be(this,Fe,v(this,Fe)+1),t&&be(this,Le,v(this,Le)+1)}decrement(t){be(this,Fe,v(this,Fe)-1),t&&be(this,Le,v(this,Le)-1),this.revive()}revive(){for(const t of v(this,Ke))q(t,Y),Re(t);for(const t of v(this,ze))q(t,he),Re(t);be(this,Ke,[]),be(this,ze,[]),this.flush()}oncommit(t){v(this,He).add(t)}ondiscard(t){v(this,We).add(t)}settled(){return(v(this,ft)??be(this,ft,sn())).promise}static ensure(){if(m===null){const t=m=new Tt;ht.add(m),Qe||Tt.enqueue(()=>{m===t&&t.flush()})}return m}static enqueue(t){Pr(t)}apply(){}};He=new WeakMap,We=new WeakMap,Fe=new WeakMap,Le=new WeakMap,ft=new WeakMap,Ke=new WeakMap,ze=new WeakMap,N=new WeakSet,en=function(t,n){var o;t.f^=F;for(var r=t.first;r!==null;){var i=r.f,f=(i&(de|Ve))!==0,l=f&&(i&F)!==0,s=l||(i&H)!==0||this.skipped_effects.has(r);if((r.f&Mt)!==0&&((o=r.b)!=null&&o.is_pending())&&(n={parent:n,effect:r,effects:[],render_effects:[],block_effects:[]}),!s&&r.fn!==null){f?r.f^=F:(i&ln)!==0?n.effects.push(r):rt(r)&&((r.f&_e)!==0&&n.block_effects.push(r),it(r));var a=r.first;if(a!==null){r=a;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)u===n.effect&&(X(this,N,Be).call(this,n.effects),X(this,N,Be).call(this,n.render_effects),X(this,N,Be).call(this,n.block_effects),n=n.parent),r=u.next,u=u.parent}},Be=function(t){for(const n of t)((n.f&Y)!==0?v(this,Ke):v(this,ze)).push(n),X(this,N,tn).call(this,n.deps),q(n,F)},tn=function(t){if(t!==null)for(const n of t)(n.f&O)===0||(n.f&xe)===0||(n.f^=xe,X(this,N,tn).call(this,n.deps))},Qn=function(){if(v(this,Le)===0){for(const t of v(this,He))t();v(this,He).clear()}v(this,Fe)===0&&X(this,N,$n).call(this)},$n=function(){var f;if(ht.size>1){this.previous.clear();var t=x,n=!0,r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const l of ht){if(l===this){n=!1;continue}const s=[];for(const[u,o]of this.current){if(l.current.has(u))if(n&&o!==l.current.get(u))l.current.set(u,o);else continue;s.push(u)}if(s.length===0)continue;const a=[...l.current.keys()].filter(u=>!this.current.has(u));if(a.length>0){var i=J;J=[];const u=new Set,o=new Map;for(const c of s)pn(c,a,u,o);if(J.length>0){m=l,l.apply();for(const c of J)X(f=l,N,en).call(f,c,r);l.deactivate()}J=i}}m=null,x=t}this.committed=!0,ht.delete(this)};let gt=Tt;function Ir(e){var t=Qe;Qe=!0;try{for(var n;;){if(Rr(),J.length===0&&(m==null||m.flush(),J.length===0))return wt=null,n;dn()}}finally{Qe=t}}function dn(){var e=Se;Lt=!0;var t=null;try{var n=0;for(Et(!0);J.length>0;){var r=gt.ensure();if(n++>1e3){var i,f;Nr()}r.process(J),ye.clear()}}finally{Lt=!1,Et(e),wt=null}}function Nr(){try{br()}catch(e){dt(e,wt)}}let re=null;function hn(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(pe|H))===0&&rt(r)&&(re=new Set,it(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?In(r):r.fn=null),(re==null?void 0:re.size)>0)){ye.clear();for(const i of re){if((i.f&(pe|H))!==0)continue;const f=[i];let l=i.parent;for(;l!==null;)re.has(l)&&(re.delete(l),f.push(l)),l=l.parent;for(let s=f.length-1;s>=0;s--){const a=f[s];(a.f&(pe|H))===0&&it(a)}}re.clear()}}re=null}}function pn(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const f=i.f;(f&O)!==0?pn(i,t,n,r):(f&(Ft|_e))!==0&&(f&Y)===0&&wn(i,t,r)&&(q(i,Y),Re(i))}}function wn(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(t.includes(i))return!0;if((i.f&O)!==0&&wn(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function Re(e){for(var t=wt=e;t.parent!==null;){t=t.parent;var n=t.f;if(Lt&&t===E&&(n&_e)!==0&&(n&un)===0)return;if((n&(Ve|de))!==0){if((n&F)===0)return;t.f^=F}}J.push(t)}function Mr(e,t,n,r){const i=qt;if(n.length===0&&e.length===0){r(t.map(i));return}var f=m,l=E,s=Or();function a(){Promise.all(n.map(u=>Dr(u))).then(u=>{s();try{r([...t.map(i),...u])}catch(o){(l.f&pe)===0&&dt(o,l)}f==null||f.deactivate(),bt()}).catch(u=>{dt(u,l)})}e.length>0?Promise.all(e).then(()=>{s();try{return a()}finally{f==null||f.deactivate(),bt()}}):a()}function Or(){var e=E,t=g,n=ne,r=m;return function(f=!0){Ye(e),ke(t),_t(n),f&&(r==null||r.activate())}}function bt(){Ye(null),ke(null),_t(null)}function qt(e){var t=O|Y,n=g!==null&&(g.f&O)!==0?g:null;return E!==null&&(E.f|=ct),{ctx:ne,deps:null,effects:null,equals:on,f:t,fn:e,reactions:null,rv:0,v:D,wv:0,parent:n??E,ac:null}}function Dr(e,t){let n=E;n===null&&hr();var r=n.b,i=void 0,f=$e(D),l=!g,s=new Map;return Gr(()=>{var d;var a=sn();i=a.promise;try{Promise.resolve(e()).then(a.resolve,a.reject).then(()=>{u===m&&u.committed&&u.deactivate(),bt()})}catch(_){a.reject(_),bt()}var u=m;if(l){var o=!r.is_pending();r.update_pending_count(1),u.increment(o),(d=s.get(u))==null||d.reject(je),s.delete(u),s.set(u,a)}const c=(_,p=void 0)=>{if(u.activate(),p)p!==je&&(f.f|=me,mt(f,p));else{(f.f&me)!==0&&(f.f^=me),mt(f,_);for(const[S,M]of s){if(s.delete(S),S===u)break;M.reject(je)}}l&&(r.update_pending_count(-1),u.decrement(o))};a.promise.then(c,_=>c(null,_||"unknown"))}),zr(()=>{for(const a of s.values())a.reject(je)}),new Promise(a=>{function u(o){function c(){o===i?a(f):u(i)}o.then(c,c)}u(i)})}function gn(e){const t=qt(e);return t.equals=cn,t}function bn(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)we(t[n])}}function Fr(e){for(var t=e.parent;t!==null;){if((t.f&O)===0)return(t.f&pe)===0?t:null;t=t.parent}return null}function Ut(e){var t,n=E;Ye(Fr(e));try{e.f&=~xe,bn(e),t=Bn(e)}finally{Ye(n)}return t}function mn(e){var t=Ut(e);if(e.equals(t)||(e.v=t,e.wv=qn()),!Ne)if(x!==null)Yt()&&x.set(e,e.v);else{var n=(e.f&te)===0?he:F;q(e,n)}}let Bt=new Set;const ye=new Map;let yn=!1;function $e(e,t){var n={f:0,v:e,reactions:null,equals:on,rv:0,wv:0};return n}function W(e,t){const n=$e(e);return $r(n),n}function Lr(e,t=!1,n=!0){const r=$e(e);return t||(r.equals=cn),r}function P(e,t,n=!1){g!==null&&(!fe||(g.f&an)!==0)&&vn()&&(g.f&(O|_e|Ft|an))!==0&&!(B!=null&&B.includes(e))&&Sr();let r=n?Ee(t):t;return mt(e,r)}function mt(e,t){if(!e.equals(t)){var n=e.v;Ne?ye.set(e,t):ye.set(e,n),e.v=t;var r=gt.ensure();r.capture(e,n),(e.f&O)!==0&&((e.f&Y)!==0&&Ut(e),q(e,(e.f&te)!==0?F:he)),e.wv=qn(),En(e,Y),E!==null&&(E.f&F)!==0&&(E.f&(de|Ve))===0&&(Q===null?ei([e]):Q.push(e)),!r.is_fork&&Bt.size>0&&!yn&&qr()}return t}function qr(){yn=!1;var e=Se;Et(!0);const t=Array.from(Bt);try{for(const n of t)(n.f&F)!==0&&q(n,he),rt(n)&&it(n)}finally{Et(e)}Bt.clear()}function Vt(e){P(e,e.v+1)}function En(e,t){var n=e.reactions;if(n!==null)for(var r=n.length,i=0;i<r;i++){var f=n[i],l=f.f,s=(l&Y)===0;if(s&&q(f,t),(l&O)!==0){var a=f;x==null||x.delete(a),(l&xe)===0&&(l&te&&(f.f|=xe),En(a,he))}else s&&((l&_e)!==0&&re!==null&&re.add(f),Re(f))}}function Ee(e){if(typeof e!="object"||e===null||vt in e)return e;const t=fn(e);if(t!==ur&&t!==or)return e;var n=new Map,r=nn(e),i=W(0),f=Me,l=s=>{if(Me===f)return s();var a=g,u=Me;ke(null),Ln(f);var o=s();return ke(a),Ln(u),o};return r&&n.set("length",W(e.length)),new Proxy(e,{defineProperty(s,a,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&yr();var o=n.get(a);return o===void 0?o=l(()=>{var c=W(u.value);return n.set(a,c),c}):P(o,u.value,!0),!0},deleteProperty(s,a){var u=n.get(a);if(u===void 0){if(a in s){const o=l(()=>W(D));n.set(a,o),Vt(i)}}else P(u,D),Vt(i);return!0},get(s,a,u){var _;if(a===vt)return e;var o=n.get(a),c=a in s;if(o===void 0&&(!c||(_=ot(s,a))!=null&&_.writable)&&(o=l(()=>{var p=Ee(c?s[a]:D),S=W(p);return S}),n.set(a,o)),o!==void 0){var d=h(o);return d===D?void 0:d}return Reflect.get(s,a,u)},getOwnPropertyDescriptor(s,a){var u=Reflect.getOwnPropertyDescriptor(s,a);if(u&&"value"in u){var o=n.get(a);o&&(u.value=h(o))}else if(u===void 0){var c=n.get(a),d=c==null?void 0:c.v;if(c!==void 0&&d!==D)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return u},has(s,a){var d;if(a===vt)return!0;var u=n.get(a),o=u!==void 0&&u.v!==D||Reflect.has(s,a);if(u!==void 0||E!==null&&(!o||(d=ot(s,a))!=null&&d.writable)){u===void 0&&(u=l(()=>{var _=o?Ee(s[a]):D,p=W(_);return p}),n.set(a,u));var c=h(u);if(c===D)return!1}return o},set(s,a,u,o){var k;var c=n.get(a),d=a in s;if(r&&a==="length")for(var _=u;_<c.v;_+=1){var p=n.get(_+"");p!==void 0?P(p,D):_ in s&&(p=l(()=>W(D)),n.set(_+"",p))}if(c===void 0)(!d||(k=ot(s,a))!=null&&k.writable)&&(c=l(()=>W(void 0)),P(c,Ee(u)),n.set(a,c));else{d=c.v!==D;var S=l(()=>Ee(u));P(c,S)}var M=Reflect.getOwnPropertyDescriptor(s,a);if(M!=null&&M.set&&M.set.call(o,u),!d){if(r&&typeof a=="string"){var R=n.get("length"),C=Number(a);Number.isInteger(C)&&C>=R.v&&P(R,C+1)}Vt(i)}return!0},ownKeys(s){h(i);var a=Reflect.ownKeys(s).filter(c=>{var d=n.get(c);return d===void 0||d.v!==D});for(var[u,o]of n)o.v!==D&&!(u in s)&&a.push(u);return a},setPrototypeOf(){Er()}})}var Ur,Br,Vr;function et(e=""){return document.createTextNode(e)}function Sn(e){return Br.call(e)}function yt(e){return Vr.call(e)}function L(e,t){return Sn(e)}function K(e,t=1,n=!1){let r=e;for(;t--;)r=yt(r);return r}function jr(e){e.textContent=""}function kn(){return!1}let Tn=!1;function Yr(){Tn||(Tn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function jt(e){var t=g,n=E;ke(null),Ye(null);try{return e()}finally{ke(t),Ye(n)}}function Hr(e,t,n,r=n){e.addEventListener(t,()=>jt(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),Yr()}function Wr(e){E===null&&(g===null&&gr(),wr()),Ne&&pr()}function Kr(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Ce(e,t,n){var r=E;r!==null&&(r.f&H)!==0&&(e|=H);var i={ctx:ne,deps:null,nodes_start:null,nodes_end:null,f:e|Y|te,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{it(i),i.f|=Ot}catch(s){throw we(i),s}else t!==null&&Re(i);var f=i;if(n&&f.deps===null&&f.teardown===null&&f.nodes_start===null&&f.first===f.last&&(f.f&ct)===0&&(f=f.first,(e&_e)!==0&&(e&Je)!==0&&f!==null&&(f.f|=Je)),f!==null&&(f.parent=r,r!==null&&Kr(f,r),g!==null&&(g.f&O)!==0&&(e&Ve)===0)){var l=g;(l.effects??(l.effects=[])).push(f)}return i}function Yt(){return g!==null&&!fe}function zr(e){const t=Ce(Nt,null,!1);return q(t,F),t.teardown=e,t}function An(e){Wr();var t=E.f,n=!g&&(t&de)!==0&&(t&Ot)===0;if(n){var r=ne;(r.e??(r.e=[])).push(e)}else return xn(e)}function xn(e){return Ce(ln|vr,e,!1)}function Gr(e){return Ce(Ft|ct,e,!0)}function Zr(e,t=0){return Ce(Nt|t,e,!0)}function Ie(e,t=[],n=[],r=[]){Mr(r,t,n,i=>{Ce(Nt,()=>e(...i.map(h)),!0)})}function Pn(e,t=0){var n=Ce(_e|t,e,!0);return n}function tt(e){return Ce(de|ct,e,!0)}function Rn(e){var t=e.teardown;if(t!==null){const n=Ne,r=g;Dn(!0),ke(null);try{t.call(null)}finally{Dn(n),ke(r)}}}function Cn(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&jt(()=>{i.abort(je)});var r=n.next;(n.f&Ve)!==0?n.parent=null:we(n,t),n=r}}function Xr(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&de)===0&&we(t),t=n}}function we(e,t=!0){var n=!1;(t||(e.f&un)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Jr(e.nodes_start,e.nodes_end),n=!0),Cn(e,t&&!n),St(e,0),q(e,pe);var r=e.transitions;if(r!==null)for(const f of r)f.stop();Rn(e);var i=e.parent;i!==null&&i.first!==null&&In(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Jr(e,t){for(;e!==null;){var n=e===t?null:yt(e);e.remove(),e=n}}function In(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Nn(e,t,n=!0){var r=[];Ht(e,r,!0),Mn(r,()=>{n&&we(e),t&&t()})}function Mn(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var i of e)i.out(r)}else t()}function Ht(e,t,n){if((e.f&H)===0){if(e.f^=H,e.transitions!==null)for(const l of e.transitions)(l.is_global||n)&&t.push(l);for(var r=e.first;r!==null;){var i=r.next,f=(r.f&Je)!==0||(r.f&de)!==0&&(e.f&_e)!==0;Ht(r,t,f?n:!1),r=i}}}function Wt(e){On(e,!0)}function On(e,t){if((e.f&H)!==0){e.f^=H,(e.f&F)===0&&(q(e,Y),Re(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&Je)!==0||(n.f&de)!==0;On(n,i?t:!1),n=r}if(e.transitions!==null)for(const f of e.transitions)(f.is_global||t)&&f.in()}}function Qr(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var i=n===r?null:yt(n);t.append(n),n=i}}let Se=!1;function Et(e){Se=e}let Ne=!1;function Dn(e){Ne=e}let g=null,fe=!1;function ke(e){g=e}let E=null;function Ye(e){E=e}let B=null;function $r(e){g!==null&&(B===null?B=[e]:B.push(e))}let V=null,z=0,Q=null;function ei(e){Q=e}let Fn=1,nt=0,Me=nt;function Ln(e){Me=e}function qn(){return++Fn}function rt(e){var t=e.f;if((t&Y)!==0)return!0;if(t&O&&(e.f&=~xe),(t&he)!==0){var n=e.deps;if(n!==null)for(var r=n.length,i=0;i<r;i++){var f=n[i];if(rt(f)&&mn(f),f.wv>e.wv)return!0}(t&te)!==0&&x===null&&q(e,F)}return!1}function Un(e,t,n=!0){var r=e.reactions;if(r!==null&&!(B!=null&&B.includes(e)))for(var i=0;i<r.length;i++){var f=r[i];(f.f&O)!==0?Un(f,t,!1):t===f&&(n?q(f,Y):(f.f&F)!==0&&q(f,he),Re(f))}}function Bn(e){var p;var t=V,n=z,r=Q,i=g,f=B,l=ne,s=fe,a=Me,u=e.f;V=null,z=0,Q=null,g=(u&(de|Ve))===0?e:null,B=null,_t(e.ctx),fe=!1,Me=++nt,e.ac!==null&&(jt(()=>{e.ac.abort(je)}),e.ac=null);try{e.f|=Dt;var o=e.fn,c=o(),d=e.deps;if(V!==null){var _;if(St(e,z),d!==null&&z>0)for(d.length=z+V.length,_=0;_<V.length;_++)d[z+_]=V[_];else e.deps=d=V;if(Se&&Yt()&&(e.f&te)!==0)for(_=z;_<d.length;_++)((p=d[_]).reactions??(p.reactions=[])).push(e)}else d!==null&&z<d.length&&(St(e,z),d.length=z);if(vn()&&Q!==null&&!fe&&d!==null&&(e.f&(O|he|Y))===0)for(_=0;_<Q.length;_++)Un(Q[_],e);return i!==null&&i!==e&&(nt++,Q!==null&&(r===null?r=Q:r.push(...Q))),(e.f&me)!==0&&(e.f^=me),c}catch(S){return Cr(S)}finally{e.f^=Dt,V=t,z=n,Q=r,g=i,B=f,_t(l),fe=s,Me=a}}function ti(e,t){let n=t.reactions;if(n!==null){var r=lr.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(t.f&O)!==0&&(V===null||!V.includes(t))&&(q(t,he),(t.f&te)!==0&&(t.f^=te,t.f&=~xe),bn(t),St(t,0))}function St(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)ti(e,n[r])}function it(e){var t=e.f;if((t&pe)===0){q(e,F);var n=E,r=Se;E=e,Se=!0;try{(t&_e)!==0?Xr(e):Cn(e),Rn(e);var i=Bn(e);e.teardown=typeof i=="function"?i:null,e.wv=Fn;var f;It&&Tr&&(e.f&Y)!==0&&e.deps}finally{Se=r,E=n}}}async function ni(){await Promise.resolve(),Ir()}function h(e){var t=e.f,n=(t&O)!==0;if(g!==null&&!fe){var r=E!==null&&(E.f&pe)!==0;if(!r&&!(B!=null&&B.includes(e))){var i=g.deps;if((g.f&Dt)!==0)e.rv<nt&&(e.rv=nt,V===null&&i!==null&&i[z]===e?z++:V===null?V=[e]:V.includes(e)||V.push(e));else{(g.deps??(g.deps=[])).push(e);var f=e.reactions;f===null?e.reactions=[g]:f.includes(g)||f.push(g)}}}if(Ne){if(ye.has(e))return ye.get(e);if(n){var l=e,s=l.v;return((l.f&F)===0&&l.reactions!==null||jn(l))&&(s=Ut(l)),ye.set(l,s),s}}else if(n){if(l=e,x!=null&&x.has(l))return x.get(l);rt(l)&&mn(l),Se&&Yt()&&(l.f&te)===0&&Vn(l)}else if(x!=null&&x.has(e))return x.get(e);if((e.f&me)!==0)throw e.v;return e.v}function Vn(e){if(e.deps!==null){e.f^=te;for(const t of e.deps)(t.reactions??(t.reactions=[])).push(e),(t.f&O)!==0&&(t.f&te)===0&&Vn(t)}}function jn(e){if(e.v===D)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(ye.has(t)||(t.f&O)!==0&&jn(t))return!0;return!1}function Kt(e){var t=fe;try{return fe=!0,e()}finally{fe=t}}const ri=-7169;function q(e,t){e.f=e.f&ri|t}const ii=new Set,fi=new Set;function si(e){for(var t=0;t<e.length;t++)ii.add(e[t]);for(var n of fi)n(e)}function li(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function ai(e,t){var n=E;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function se(e,t){var n=(t&fr)!==0,r,i=!e.startsWith("<!>");return()=>{r===void 0&&(r=li(i?e:"<!>"+e),r=Sn(r));var f=n||Ur?document.importNode(r,!0):r.cloneNode(!0);return ai(f,f),f}}function le(e,t){e!==null&&e.before(t)}function Oe(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}class ui{constructor(t,n=!0){ge(this,"anchor");U(this,ie,new Map);U(this,ue,new Map);U(this,G,new Map);U(this,qe,new Set);U(this,st,!0);U(this,lt,()=>{var t=m;if(v(this,ie).has(t)){var n=v(this,ie).get(t),r=v(this,ue).get(n);if(r)Wt(r),v(this,qe).delete(n);else{var i=v(this,G).get(n);i&&(v(this,ue).set(n,i.effect),v(this,G).delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[f,l]of v(this,ie)){if(v(this,ie).delete(f),f===t)break;const s=v(this,G).get(l);s&&(we(s.effect),v(this,G).delete(l))}for(const[f,l]of v(this,ue)){if(f===n||v(this,qe).has(f))continue;const s=()=>{if(Array.from(v(this,ie).values()).includes(f)){var u=document.createDocumentFragment();Qr(l,u),u.append(et()),v(this,G).set(f,{effect:l,fragment:u})}else we(l);v(this,qe).delete(f),v(this,ue).delete(f)};v(this,st)||!r?(v(this,qe).add(f),Nn(l,s,!1)):s()}}});U(this,At,t=>{v(this,ie).delete(t);const n=Array.from(v(this,ie).values());for(const[r,i]of v(this,G))n.includes(r)||(we(i.effect),v(this,G).delete(r))});this.anchor=t,be(this,st,n)}ensure(t,n){var r=m,i=kn();if(n&&!v(this,ue).has(t)&&!v(this,G).has(t))if(i){var f=document.createDocumentFragment(),l=et();f.append(l),v(this,G).set(t,{effect:tt(()=>n(l)),fragment:f})}else v(this,ue).set(t,tt(()=>n(this.anchor)));if(v(this,ie).set(r,t),i){for(const[s,a]of v(this,ue))s===t?r.skipped_effects.delete(a):r.skipped_effects.add(a);for(const[s,a]of v(this,G))s===t?r.skipped_effects.delete(a.effect):r.skipped_effects.add(a.effect);r.oncommit(v(this,lt)),r.ondiscard(v(this,At))}else v(this,lt).call(this)}}ie=new WeakMap,ue=new WeakMap,G=new WeakMap,qe=new WeakMap,st=new WeakMap,lt=new WeakMap,At=new WeakMap;function oi(e){ne===null&&dr(),An(()=>{const t=Kt(e);if(typeof t=="function")return t})}function De(e,t,n=!1){var r=new ui(e),i=n?Je:0;function f(l,s){r.ensure(l,s)}Pn(()=>{var l=!1;t((s,a=!0)=>{l=!0,f(a,s)}),l||f(!1,null)},i)}function Yn(e,t){return t}function ci(e,t,n){for(var r=[],i=t.length,f=0;f<i;f++)Ht(t[f].e,r,!0);Mn(r,()=>{var l=r.length===0&&n!==null;if(l){var s=n,a=s.parentNode;jr(a),a.append(s),e.items.clear(),ae(e,t[0].prev,t[i-1].next)}for(var u=0;u<i;u++){var o=t[u];l||(e.items.delete(o.k),ae(e,o.prev,o.next)),we(o.e,!l)}e.first===t[0]&&(e.first=t[0].prev)})}function Hn(e,t,n,r,i,f=null){var l=e,s=new Map,a=null;{var u=e;l=u.appendChild(et())}var o=null,c=gn(()=>{var R=n();return nn(R)?R:R==null?[]:rn(R)}),d,_=!0;function p(){vi(M,d,l,t,r),o!==null&&(d.length===0?(o.fragment?(l.before(o.fragment),o.fragment=null):Wt(o.effect),S.first=o.effect):Nn(o.effect,()=>{o=null}))}var S=Pn(()=>{d=h(c);for(var R=d.length,C=new Set,k=m,j=null,$=kn(),oe=0;oe<R;oe+=1){var Te=d[oe],Ge=r(Te,oe),ee=_?null:s.get(Ge);ee?(mt(ee.v,Te),ee.i=oe,$&&k.skipped_effects.delete(ee.e)):(ee=_i(_?l:null,j,Te,Ge,oe,i,t,n),_&&(ee.o=!0,j===null?a=ee:j.next=ee,j=ee),s.set(Ge,ee)),C.add(Ge)}if(R===0&&f&&!o)if(_)o={fragment:null,effect:tt(()=>f(l))};else{var xt=document.createDocumentFragment(),b=et();xt.append(b),o={fragment:xt,effect:tt(()=>f(b))}}if(!_)if($){for(const[w,T]of s)C.has(w)||k.skipped_effects.add(T.e);k.oncommit(p),k.ondiscard(()=>{})}else p();h(c)}),M={effect:S,items:s,first:a};_=!1}function vi(e,t,n,r,i){var f=t.length,l=e.items,s=e.first,a,u=null,o=[],c=[],d,_,p,S;for(S=0;S<f;S+=1){if(d=t[S],_=i(d,S),p=l.get(_),e.first??(e.first=p),!p.o){p.o=!0;var M=u?u.next:s;ae(e,u,p),ae(e,p,M),zt(p,M,n),u=p,o=[],c=[],s=u.next;continue}if((p.e.f&H)!==0&&Wt(p.e),p!==s){if(a!==void 0&&a.has(p)){if(o.length<c.length){var R=c[0],C;u=R.prev;var k=o[0],j=o[o.length-1];for(C=0;C<o.length;C+=1)zt(o[C],R,n);for(C=0;C<c.length;C+=1)a.delete(c[C]);ae(e,k.prev,j.next),ae(e,u,k),ae(e,j,R),s=R,u=j,S-=1,o=[],c=[]}else a.delete(p),zt(p,s,n),ae(e,p.prev,p.next),ae(e,p,u===null?e.first:u.next),ae(e,u,p),u=p;continue}for(o=[],c=[];s!==null&&s.k!==_;)(s.e.f&H)===0&&(a??(a=new Set)).add(s),c.push(s),s=s.next;if(s===null)continue;p=s}o.push(p),u=p,s=p.next}if(s!==null||a!==void 0){for(var $=a===void 0?[]:rn(a);s!==null;)(s.e.f&H)===0&&$.push(s),s=s.next;var oe=$.length;if(oe>0){var Te=f===0?n:null;ci(e,$,Te)}}}function _i(e,t,n,r,i,f,l,s){var a=(l&I)!==0,u=(l&er)===0,o=a?u?Lr(n,!1,!1):$e(n):n,c=(l&ut)===0?i:$e(i),d={i:c,v:o,k:r,a:null,e:null,o:!1,prev:t,next:null};try{if(e===null){var _=document.createDocumentFragment();_.append(e=et())}return d.e=tt(()=>f(e,o,c,s)),t!==null&&(t.next=d),d}finally{}}function zt(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,f=e.e.nodes_start;f!==null&&f!==r;){var l=yt(f);i.before(f),f=l}}function ae(e,t,n){t===null?(e.first=n,e.effect.first=n&&n.e):(t.e.next&&(t.e.next.prev=null),t.next=n,t.e.next=n&&n.e),n===null?e.effect.last=t&&t.e:(n.e.prev&&(n.e.prev.next=null),n.prev=t,n.e.prev=t&&t.e)}const Wn=[...` 	
\r\fÂ \v\uFEFF`];function di(e,t,n){var r=""+e;if(n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var f=i.length,l=0;(l=r.indexOf(i,l))>=0;){var s=l+f;(l===0||Wn.includes(r[l-1]))&&(s===r.length||Wn.includes(r[s]))?r=(l===0?"":r.substring(0,l))+r.substring(s+1):l=s}}return r===""?null:r}function hi(e,t,n,r,i,f){var l=e.__className;if(l!==n||l===void 0){var s=di(n,r,f);s==null?e.removeAttribute("class"):e.className=s,e.__className=n}else if(f&&i!==f)for(var a in f){var u=!!f[a];(i==null||u!==!!i[a])&&e.classList.toggle(a,u)}return f}const pi=Symbol("is custom element"),wi=Symbol("is html");function gi(e,t,n,r){var i=bi(e);i[t]!==(i[t]=n)&&(n==null?e.removeAttribute(t):typeof n!="string"&&mi(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function bi(e){return e.__attributes??(e.__attributes={[pi]:e.nodeName.includes("-"),[wi]:e.namespaceURI===sr})}var Kn=new Map;function mi(e){var t=e.getAttribute("is")||e.nodeName,n=Kn.get(t);if(n)return n;Kn.set(t,n=[]);for(var r,i=e,f=Element.prototype;f!==i;){r=ar(i);for(var l in r)r[l].set&&n.push(l);i=fn(i)}return n}function yi(e,t,n=t){var r=new WeakSet;Hr(e,"input",async i=>{var f=i?e.defaultValue:e.value;if(f=Gt(e)?Zt(f):f,n(f),m!==null&&r.add(m),await ni(),f!==(f=t())){var l=e.selectionStart,s=e.selectionEnd,a=e.value.length;if(e.value=f??"",s!==null){var u=e.value.length;l===s&&s===a&&u>a?(e.selectionStart=u,e.selectionEnd=u):(e.selectionStart=l,e.selectionEnd=Math.min(s,u))}}}),Kt(t)==null&&e.value&&(n(Gt(e)?Zt(e.value):e.value),m!==null&&r.add(m)),Zr(()=>{var i=t();if(e===document.activeElement){var f=pt??m;if(r.has(f))return}Gt(e)&&i===Zt(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function Gt(e){var t=e.type;return t==="number"||t==="range"}function Zt(e){return e===""?null:+e}let kt=!1;function Ei(e){var t=kt;try{return kt=!1,[e(),kt]}finally{kt=t}}function zn(e,t,n,r){var C;var i=(n&rr)!==0,f=(n&ir)!==0,l=r,s=!0,a=()=>(s&&(s=!1,l=f?Kt(r):r),l),u;if(i){var o=vt in e||_r in e;u=((C=ot(e,t))==null?void 0:C.set)??(o&&t in e?k=>e[t]=k:void 0)}var c,d=!1;i?[c,d]=Ei(()=>e[t]):c=e[t],c===void 0&&r!==void 0&&(c=a(),u&&(mr(),u(c)));var _;if(_=()=>{var k=e[t];return k===void 0?a():(s=!0,k)},(n&nr)===0)return _;if(u){var p=e.$$legacy;return(function(k,j){return arguments.length>0?((!j||p||d)&&u(j?_():k),k):_()})}var S=!1,M=((n&tr)!==0?qt:gn)(()=>(S=!1,_()));i&&h(M);var R=E;return(function(k,j){if(arguments.length>0){const $=j?h(M):i?Ee(k):k;return P(M,$),S=!0,l!==void 0&&(l=$),k}return Ne&&S||(R.f&pe)!==0?M.v:h(M)})}var Si=se('<div class="loading svelte-fbbhu1"><div class="spinner svelte-fbbhu1"></div> <p>Loading availability...</p></div>'),ki=se('<div class="error svelte-fbbhu1"><p> </p> <button class="svelte-fbbhu1">Retry</button></div>'),Ti=se('<span class="slot-price svelte-fbbhu1"> </span>'),Ai=se('<button><span class="slot-time svelte-fbbhu1"> </span> <!></button>'),xi=se('<div class="court-section svelte-fbbhu1"><h4 class="court-name svelte-fbbhu1"> </h4> <div class="slots-grid svelte-fbbhu1"></div></div>'),Pi=se('<div class="courts-grid svelte-fbbhu1"></div>'),Ri=se('<div class="empty svelte-fbbhu1"><p>No courts available for this date.</p></div>'),Ci=se('<p class="price svelte-fbbhu1"> </p>'),Ii=se('<div class="booking-panel svelte-fbbhu1"><div class="booking-details svelte-fbbhu1"><p class="svelte-fbbhu1"><strong> </strong></p> <p class="svelte-fbbhu1"> </p> <!></div> <div class="booking-actions svelte-fbbhu1"><button class="cancel-btn svelte-fbbhu1">Cancel</button> <button class="book-btn svelte-fbbhu1">Book Now</button></div></div>'),Ni=se('<div class="court-reserve-widget svelte-fbbhu1"><div class="widget-header svelte-fbbhu1"><h3 class="svelte-fbbhu1">Book a Court</h3> <input type="date" class="date-input svelte-fbbhu1"/></div> <!> <!> <!> <!> <!></div>');function Mi(e,t){Ar(t,!0);let n=zn(t,"theme",3,"dark"),r=zn(t,"date",31,()=>Ee(new Date().toISOString().split("T")[0])),i=W(!0),f=W(null),l=W(Ee([])),s=W(null),a=W(null);const u=typeof window<"u"&&window.location.hostname==="localhost"?"http://localhost:5173/api":"https://courtreserve.createsomething.space/api";async function o(){var b;P(i,!0),P(f,null);try{const w=new URL(`${u}/availability`);w.searchParams.set("facility",t.facilitySlug),w.searchParams.set("date",r()),t.courtType&&w.searchParams.set("court_type",t.courtType);const T=await fetch(w.toString());if(!T.ok)throw new Error(`Failed to fetch availability: ${T.statusText}`);const Z=await T.json();P(l,Z.courts||[],!0)}catch(w){const T=w instanceof Error?w.message:"Failed to load availability";P(f,T,!0),(b=t.onError)==null||b.call(t,w instanceof Error?w:new Error(T))}finally{P(i,!1)}}function c(b,w){w.status==="available"&&(P(s,b,!0),P(a,w,!0))}function d(){P(s,null),P(a,null)}async function _(){var b;if(!(!h(s)||!h(a))){P(i,!0),P(f,null);try{if(!h(l).find(Z=>Z.id===h(s)))throw new Error("Court not found");const T=new URL(`${u}/../book`);T.searchParams.set("facility",t.facilitySlug),T.searchParams.set("court",h(s)),T.searchParams.set("date",r()),T.searchParams.set("start",h(a).startTime),window.location.href=T.toString()}catch(w){const T=w instanceof Error?w.message:"Booking failed";P(f,T,!0),(b=t.onError)==null||b.call(t,w instanceof Error?w:new Error(T))}finally{P(i,!1)}}}oi(()=>{o()}),An(()=>{r()&&o()});var p=Ni(),S=L(p),M=K(L(S),2),R=K(S,2);{var C=b=>{var w=Si();le(b,w)};De(R,b=>{h(i)&&b(C)})}var k=K(R,2);{var j=b=>{var w=ki(),T=L(w),Z=L(T),Ze=K(T,2);Ze.__click=()=>o(),Ie(()=>Oe(Z,h(f))),le(b,w)};De(k,b=>{h(f)&&!h(i)&&b(j)})}var $=K(k,2);{var oe=b=>{var w=Pi();Hn(w,21,()=>h(l),Yn,(T,Z)=>{var Ze=xi(),Pt=L(Ze),Rt=L(Pt),Xt=K(Pt,2);Hn(Xt,21,()=>h(Z).slots,Yn,(Jt,ce)=>{var Ue=Ai();let at;Ue.__click=()=>c(h(Z).id,h(ce));var Ct=L(Ue),ve=L(Ct),Xe=K(Ct,2);{var Qt=Ae=>{var Xn=Ti(),Oi=L(Xn);Ie(Di=>Oe(Oi,`$${Di??""}`),[()=>(h(ce).priceCents/100).toFixed(0)]),le(Ae,Xn)};De(Xe,Ae=>{h(ce).priceCents!==null&&Ae(Qt)})}Ie(()=>{var Ae;at=hi(Ue,1,"slot svelte-fbbhu1",null,at,{available:h(ce).status==="available",reserved:h(ce).status==="reserved",selected:h(s)===h(Z).id&&((Ae=h(a))==null?void 0:Ae.startTime)===h(ce).startTime}),Ue.disabled=h(ce).status!=="available",Oe(ve,h(ce).startTime)}),le(Jt,Ue)}),Ie(()=>Oe(Rt,h(Z).name)),le(T,Ze)}),le(b,w)};De($,b=>{!h(i)&&!h(f)&&h(l).length>0&&b(oe)})}var Te=K($,2);{var Ge=b=>{var w=Ri();le(b,w)};De(Te,b=>{!h(i)&&!h(f)&&h(l).length===0&&b(Ge)})}var ee=K(Te,2);{var xt=b=>{var w=Ii(),T=L(w),Z=L(T),Ze=L(Z),Pt=L(Ze),Rt=K(Z,2),Xt=L(Rt),Jt=K(Rt,2);{var ce=ve=>{var Xe=Ci(),Qt=L(Xe);Ie(Ae=>Oe(Qt,`$${Ae??""}`),[()=>(h(a).priceCents/100).toFixed(2)]),le(ve,Xe)};De(Jt,ve=>{h(a).priceCents&&ve(ce)})}var Ue=K(T,2),at=L(Ue);at.__click=d;var Ct=K(at,2);Ct.__click=_,Ie(ve=>{Oe(Pt,ve),Oe(Xt,`${h(a).startTime??""} - ${h(a).endTime??""}`)},[()=>{var ve;return(ve=h(l).find(Xe=>Xe.id===h(s)))==null?void 0:ve.name}]),le(b,w)};De(ee,b=>{h(a)&&h(s)&&b(xt)})}Ie(()=>gi(p,"data-theme",n())),yi(M,r),le(e,p),xr()}si(["click"]);function Gn(e){const{facilitySlug:t,container:n,theme:r="dark",date:i,courtType:f,onReservationComplete:l,onReady:s,onError:a}=e;if(!t){const c=new Error("facilitySlug is required");throw a==null||a(c),c}if(!n){const c=new Error("container is required");throw a==null||a(c),c}const u=document.querySelector(n);if(!u){const c=new Error(`Container element not found: ${n}`);throw a==null||a(c),c}let o;try{o=new Mi({target:u,props:{facilitySlug:t,theme:r,date:i||new Date().toISOString().split("T")[0],courtType:f,onReservationComplete:l,onError:a}}),s==null||s()}catch(c){const d=c instanceof Error?c:new Error(String(c));throw a==null||a(d),d}return{destroy:()=>{o.$destroy()},updateDate:c=>{o.$set({date:c})},refresh:()=>{const c=o.$$.props.date;o.$set({date:c})}}}return typeof window<"u"&&(window.CourtReserve={createWidget:Gn,version:"0.1.0"}),y.createWidget=Gn,Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),y})({});
