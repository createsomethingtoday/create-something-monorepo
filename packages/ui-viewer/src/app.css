/**
 * UI Viewer - Canon-aligned styles
 * 
 * "Weniger, aber besser" - Dieter Rams
 * 
 * Uses CREATE SOMETHING design tokens for consistency
 * with the broader ecosystem.
 */

/* Import Canon tokens */
@import '@create-something/components/styles/tokens.css';

/* ==========================================================================
   Base Styles
   ========================================================================== */

* {
	margin: 0;
	padding: 0;
	box-sizing: border-box;
}

html, body {
	height: 100%;
	font-family: var(--font-sans);
	background: var(--color-bg-pure);
	color: var(--color-fg-primary);
	overflow: hidden;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

/* ==========================================================================
   Glass Design System - "The Automation Layer"
   ========================================================================== */

.glass {
	background: var(--glass-bg-light);
	backdrop-filter: blur(var(--glass-blur-md)) var(--glass-saturate-md);
	-webkit-backdrop-filter: blur(var(--glass-blur-md)) var(--glass-saturate-md);
	border: 1px solid var(--glass-border-light);
}

.glass-elevated {
	background: var(--glass-bg-medium);
	backdrop-filter: blur(var(--glass-blur-lg)) var(--glass-saturate-lg);
	-webkit-backdrop-filter: blur(var(--glass-blur-lg)) var(--glass-saturate-lg);
	border: 1px solid var(--glass-border-medium);
	box-shadow: var(--glass-shadow-md);
}

/* ==========================================================================
   Animations - Canon timing
   ========================================================================== */

/* Pulse animation for new elements */
@keyframes pulse-in {
	0% {
		transform: scale(0.85);
		opacity: 0;
		box-shadow: 0 0 0 0 var(--color-info-muted);
	}
	50% {
		box-shadow: 0 0 24px 4px var(--color-info-muted);
	}
	100% {
		transform: scale(1);
		opacity: 1;
		box-shadow: 0 0 0 0 transparent;
	}
}

.pulse-in {
	animation: pulse-in var(--duration-standard) var(--ease-decelerate);
}

/* Fade out for deleted elements */
@keyframes fade-out {
	from {
		opacity: 1;
		transform: scale(1);
	}
	to {
		opacity: 0;
		transform: scale(var(--scale-subtle));
	}
}

.fade-out {
	animation: fade-out var(--duration-micro) var(--ease-accelerate) forwards;
}

/* Highlight for updated elements */
@keyframes highlight-update {
	0% {
		outline: 2px solid var(--color-info);
		outline-offset: 2px;
	}
	100% {
		outline: 2px solid transparent;
		outline-offset: 4px;
	}
}

.highlight-update {
	animation: highlight-update var(--duration-complex) var(--ease-standard);
}

/* ==========================================================================
   Status Indicators
   ========================================================================== */

.status-dot {
	width: 8px;
	height: 8px;
	border-radius: var(--radius-full);
	display: inline-block;
}

.status-dot.connected {
	background: var(--color-success);
	box-shadow: 0 0 8px var(--color-success);
}

.status-dot.disconnected {
	background: var(--color-error);
}

.status-dot.connecting {
	background: var(--color-warning);
	animation: pulse 1s infinite;
}

@keyframes pulse {
	0%, 100% { opacity: 1; }
	50% { opacity: 0.5; }
}

/* ==========================================================================
   Typography
   ========================================================================== */

code, .mono {
	font-family: var(--font-mono);
	font-size: var(--text-body-sm);
}

/* ==========================================================================
   Scrollbar - Minimal, Canon-aligned
   ========================================================================== */

::-webkit-scrollbar {
	width: 8px;
	height: 8px;
}

::-webkit-scrollbar-track {
	background: var(--color-bg-elevated);
}

::-webkit-scrollbar-thumb {
	background: var(--color-bg-subtle);
	border-radius: var(--radius-sm);
}

::-webkit-scrollbar-thumb:hover {
	background: var(--color-border-emphasis);
}

/* ==========================================================================
   Reduced Motion
   ========================================================================== */

@media (prefers-reduced-motion: reduce) {
	*, *::before, *::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
	}
}

/* ==========================================================================
   Reduced Transparency
   ========================================================================== */

@media (prefers-reduced-transparency: reduce) {
	.glass,
	.glass-elevated {
		background: var(--color-bg-surface);
		backdrop-filter: none;
		-webkit-backdrop-filter: none;
	}
}
