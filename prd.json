{
  "title": "Dental Practice Management Agent - Phase 2 MVP",
  "description": "Implement core features: no-show rescheduling, insurance verification, and recall reminders with conversion tracking",
  "created": "2026-01-12T00:00:00Z",
  "stories": [
    {
      "id": "story-1",
      "title": "Implement no-show detection and waitlist matching",
      "description": "Create logic to detect no-show appointments from PMS and match them with waitlist patients based on appointment type, time preferences, and provider availability",
      "acceptance": [
        "File exists at packages/agent-sdk/src/create_something_agents/workflows/no_show_recovery.py",
        "Implements detect_no_shows function that queries PMS for no-show status",
        "Implements match_waitlist_patients function with scoring algorithm",
        "Scoring considers: appointment type match, time preference, provider preference, urgency",
        "Returns ranked list of waitlist candidates for each no-show slot",
        "Includes unit tests with mock PMS data",
        "All functions have docstrings"
      ],
      "files": [
        "packages/agent-sdk/src/create_something_agents/workflows/no_show_recovery.py"
      ],
      "passes": true
    },
    {
      "id": "story-2",
      "title": "Implement notification system for patient outreach",
      "description": "Create SMS/email notification handlers for contacting waitlist patients with available appointment slots",
      "acceptance": [
        "File exists at packages/agent-sdk/src/create_something_agents/notifications/patient_outreach.py",
        "Implements send_sms_notification function (via Twilio or similar)",
        "Implements send_email_notification function",
        "Notification templates include: appointment details, acceptance link, practice contact",
        "HIPAA compliance: no PHI in subject lines, encrypted links",
        "Implements confirmation_link generation with expiry (24 hours)",
        "Includes rate limiting to avoid spam",
        "All functions have docstrings"
      ],
      "files": [
        "packages/agent-sdk/src/create_something_agents/notifications/patient_outreach.py"
      ],
      "passes": true
    },
    {
      "id": "story-3",
      "title": "Implement automated appointment booking",
      "description": "Create booking automation that confirms waitlist patient selections and books appointments in PMS",
      "acceptance": [
        "Extends packages/agent-sdk/src/create_something_agents/workflows/no_show_recovery.py",
        "Implements process_confirmation function that handles patient responses",
        "Implements book_appointment_from_waitlist function",
        "Updates original no-show slot status to 'filled'",
        "Removes patient from waitlist after booking",
        "Sends confirmation notification to patient",
        "Logs all actions to audit trail with correlation_id",
        "Includes error handling for booking failures"
      ],
      "files": [
        "packages/agent-sdk/src/create_something_agents/workflows/no_show_recovery.py"
      ],
      "passes": true
    },
    {
      "id": "story-4",
      "title": "Implement insurance verification workflow",
      "description": "Create pre-visit insurance eligibility checking that queries PMS/clearinghouse APIs and flags coverage issues",
      "acceptance": [
        "File exists at packages/agent-sdk/src/create_something_agents/workflows/insurance_verification.py",
        "Implements verify_insurance_eligibility function",
        "Queries PMS for upcoming appointments (next 7 days)",
        "Calls insurance verification API with minimum necessary data (patient_dob, insurer_id, procedure_codes)",
        "Returns verification status: active, inactive, coverage_issue, verification_failed",
        "Flags appointments with coverage issues for human review",
        "Sends notification to practice staff for flagged appointments",
        "Logs verification results to audit trail",
        "All functions have docstrings"
      ],
      "files": [
        "packages/agent-sdk/src/create_something_agents/workflows/insurance_verification.py"
      ],
      "passes": true
    },
    {
      "id": "story-5",
      "title": "Implement recall reminder system",
      "description": "Create automated recall system that identifies overdue patients and sends personalized reminders",
      "acceptance": [
        "File exists at packages/agent-sdk/src/create_something_agents/workflows/recall_reminders.py",
        "Implements identify_overdue_patients function",
        "Queries PMS for patients with last_visit > 6 months ago and no future appointments",
        "Determines overdue procedure type (cleaning, exam, etc.) from patient history",
        "Implements send_recall_reminder function with personalized messaging",
        "Tracks reminder status: sent, opened, clicked, booked",
        "Includes opt-out handling for patients who don't want reminders",
        "HIPAA compliance: minimum necessary PHI (name, phone, last_visit_date)",
        "All functions have docstrings"
      ],
      "files": [
        "packages/agent-sdk/src/create_something_agents/workflows/recall_reminders.py"
      ],
      "passes": true
    },
    {
      "id": "story-6",
      "title": "Implement conversion rate tracking and reporting",
      "description": "Create analytics module that tracks conversion rates for no-show recovery, insurance verification success, and recall bookings",
      "acceptance": [
        "File exists at packages/agent-sdk/src/create_something_agents/analytics/conversion_tracking.py",
        "Implements track_no_show_conversion function (slots offered, accepted, booked)",
        "Implements track_insurance_verification function (verified, issues flagged, issues resolved)",
        "Implements track_recall_conversion function (reminders sent, responses, bookings)",
        "Implements generate_daily_report function that summarizes all metrics",
        "Report includes: conversion percentages, revenue impact estimates, top issues",
        "Stores metrics in D1 database for historical tracking",
        "Report format: JSON for API consumption and human-readable summary",
        "All functions have docstrings"
      ],
      "files": [
        "packages/agent-sdk/src/create_something_agents/analytics/conversion_tracking.py"
      ],
      "passes": true
    },
    {
      "id": "story-7",
      "title": "Integrate workflows into coordinator agent",
      "description": "Update dental coordinator agent to orchestrate the three core workflows automatically",
      "acceptance": [
        "Updates packages/agent-sdk/agents/dental_coordinator.py",
        "Imports no_show_recovery, insurance_verification, recall_reminders workflows",
        "Daily operations function now calls: no-show recovery → insurance verification → recall reminders",
        "Each workflow execution logged with timing and outcome",
        "Implements error handling and retry logic for workflow failures",
        "Coordinator creates Beads issues for discovered problems",
        "Updates task prompt to include new workflow orchestration responsibilities",
        "All changes maintain HIPAA compliance (no PHI in coordinator memory)"
      ],
      "files": [
        "packages/agent-sdk/agents/dental_coordinator.py"
      ],
      "passes": true
    },
    {
      "id": "story-8",
      "title": "Add workflow endpoints to FastAPI server",
      "description": "Extend Modal FastAPI server with endpoints for triggering individual workflows and viewing analytics",
      "acceptance": [
        "Updates packages/agent-sdk/server/main.py",
        "Implements POST /agents/dental/workflows/no-show-recovery endpoint",
        "Implements POST /agents/dental/workflows/insurance-verification endpoint",
        "Implements POST /agents/dental/workflows/recall-reminders endpoint",
        "Implements GET /agents/dental/analytics/daily-report endpoint",
        "All endpoints require practice_id and pms_config",
        "Response models include: success, workflow_results, audit_id",
        "Endpoints use appropriate workflows from packages/agent-sdk/src/create_something_agents/workflows/",
        "Error handling returns 500 with correlation_id for debugging"
      ],
      "files": [
        "packages/agent-sdk/server/main.py"
      ],
      "passes": true
    }
  ]
}
